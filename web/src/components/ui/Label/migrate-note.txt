Original implementation was in ui/label.tsx. Move logic and tests here.