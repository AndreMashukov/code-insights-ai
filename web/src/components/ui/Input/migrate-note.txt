Original implementation was in ui/input.tsx. Move logic and tests here.